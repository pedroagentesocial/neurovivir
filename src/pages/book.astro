---
import BaseLayout from "../components/layout/BaseLayout.astro";
---
<BaseLayout title="Book - NeuroVivir">
  <section class="mx-auto max-w-6xl px-4 py-10">
    <div id="book-es" class="space-y-4">
      <h1 class="font-heading text-neuro-title text-4xl md:text-5xl">Agenda ahora</h1>
      <p class="text-neuro-paragraph">Reserva tu cita directamente desde nuestro calendario.</p>
    </div>
    <div id="book-en" class="space-y-4 hidden">
      <h1 class="font-heading text-neuro-title text-4xl md:text-5xl">Book now</h1>
      <p class="text-neuro-paragraph">Schedule your appointment directly from our calendar.</p>
    </div>
    <div class="mt-6 rounded-4xl overflow-hidden ring-1 ring-neuro-detail">
      <iframe src="https://app.gohighlevel.com/v2/preview/geT0LqyQmsFgoEGri1xP?notrack=true" title="Booking" class="w-full h-[70vh] md:h-[80vh]" loading="lazy"></iframe>
    </div>
  </section>

  <script type="module">
    import { initLang, getLang, onLangChange } from "/src/lib/i18n/languageStore.ts";
    initLang();
    const esEl = document.getElementById('book-es');
    const enEl = document.getElementById('book-en');
    const apply = (lang) => {
      esEl?.classList.toggle('hidden', lang !== 'es');
      enEl?.classList.toggle('hidden', lang !== 'en');
    };
    apply(getLang());
    onLangChange(apply);

    // Preparación para animaciones de scroll: IntersectionObserver podría activarlas aquí
  </script>
</BaseLayout>
