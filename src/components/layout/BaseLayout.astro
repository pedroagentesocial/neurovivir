---
import Navbar from "../navbar/Navbar.astro";
import Footer from "../footer/Footer.astro";
import "../../styles/fonts.css";
import "../../styles/theme.css";
import langUrl from "../../scripts/lang.js?url";
const { title = "NeuroVivir" } = Astro.props;
const ver = Date.now();
---
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <link rel="icon" type="image/svg+xml" sizes="any" href={`${import.meta.env.BASE_URL}icons/cerebro-neurovivir.svg`} />
    <link rel="shortcut icon" type="image/svg+xml" href={`${import.meta.env.BASE_URL}icons/cerebro-neurovivir.svg`} />
    <link rel="icon" type="image/png" sizes="32x32" href={`${import.meta.env.BASE_URL}images/logo.png`} />
    <link rel="icon" type="image/png" sizes="16x16" href={`${import.meta.env.BASE_URL}images/logo.png`} />
    <link rel="apple-touch-icon" href={`${import.meta.env.BASE_URL}images/logo.png`} />
    <link rel="mask-icon" href={`${import.meta.env.BASE_URL}icons/cerebro-neurovivir.svg`} color="#42A8AF" />
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <script type="module" src={`${langUrl}?v=${ver}`}></script>
    <script type="module">
      const NV = window.NV_LANG || {};
      const getLang = NV.get || (() => 'es');
      const onLangChange = NV.onChange || (() => {});
      const applyHtmlLang = (lang) => { try { document.documentElement.setAttribute('lang', lang); } catch {} };
      const boot = () => applyHtmlLang(getLang());
      if (document.readyState !== 'loading') boot();
      else window.addEventListener('DOMContentLoaded', boot);
      onLangChange(applyHtmlLang);
    </script>
  </head>
  <body class="font-body bg-neuro-background text-neuro-paragraph">
    <Navbar />
    <main class="min-h-screen">
      <slot />
    </main>
    <Footer />
  </body>
</html>
